<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ - 500ì ë¯¸ë§Œ ê¸€ ì‘ì„±ê¸°</title>
  <link rel="stylesheet" href="admin.css">
</head>
<body>
  <div class="admin-container">
    <header class="admin-header">
      <div class="admin-header__content">
        <div>
          <h1 class="admin-title">ğŸ“Š ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h1>
          <p class="admin-subtitle">500ì ë¯¸ë§Œ ê¸€ ì‘ì„±ê¸° ê´€ë¦¬ ì‹œìŠ¤í…œ</p>
        </div>
        <button id="refresh-stats-btn" class="admin-btn admin-btn--primary" aria-label="ë°ì´í„° ê°±ì‹ ">
          ğŸ”„ ë°ì´í„° ê°±ì‹ 
        </button>
      </div>
      <p class="admin-last-updated">ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: <span id="last-updated-time">-</span></p>
    </header>

    <main class="admin-main" role="main">
      <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
      <nav class="admin-nav" role="navigation" aria-label="ê´€ë¦¬ì ë©”ë‰´">
        <button class="admin-nav__item admin-nav__item--active" 
                data-section="overview"
                aria-label="ê°œìš” ë³´ê¸°"
                tabindex="0">
          ğŸ“Š ê°œìš”
        </button>
        <button class="admin-nav__item" 
                data-section="users"
                aria-label="ì‚¬ìš©ì ëª©ë¡ ë³´ê¸°"
                tabindex="0">
          ğŸ‘¥ ì‚¬ìš©ì
        </button>
        <button class="admin-nav__item" 
                data-section="stats"
                aria-label="í†µê³„ ì°¨íŠ¸ ë³´ê¸°"
                tabindex="0">
          ğŸ“ˆ í†µê³„
        </button>
      </nav>

      <!-- ê°œìš” ì„¹ì…˜ -->
      <section class="admin-section" id="admin-overview" aria-labelledby="overview-title">
        <h2 id="overview-title" class="admin-section__title">ëŒ€ì‹œë³´ë“œ ê°œìš”</h2>
        <div class="admin-stats-grid">
          <div class="admin-stat-card" role="region" aria-label="ì´ ì‚¬ìš©ì ìˆ˜">
            <div class="admin-stat-card__icon">ğŸ‘¥</div>
            <div class="admin-stat-card__content">
              <h3 class="admin-stat-card__title">ì´ ì‚¬ìš©ì</h3>
              <p class="admin-stat-card__value" id="total-users">-</p>
            </div>
          </div>
          <div class="admin-stat-card" role="region" aria-label="ì‘ì„±ëœ ê¸€ ìˆ˜">
            <div class="admin-stat-card__icon">ğŸ“</div>
            <div class="admin-stat-card__content">
              <h3 class="admin-stat-card__title">ì‘ì„±ëœ ê¸€</h3>
              <p class="admin-stat-card__value" id="total-texts">-</p>
            </div>
          </div>
          <div class="admin-stat-card" role="region" aria-label="íŠ¸ë˜í‚¹ í¬ìŠ¤íŠ¸ ìˆ˜">
            <div class="admin-stat-card__icon">ğŸ“Š</div>
            <div class="admin-stat-card__content">
              <h3 class="admin-stat-card__title">íŠ¸ë˜í‚¹ í¬ìŠ¤íŠ¸</h3>
              <p class="admin-stat-card__value" id="total-posts">-</p>
            </div>
          </div>
        </div>
      </section>

      <!-- ì‚¬ìš©ì ì„¹ì…˜ -->
      <section class="admin-section admin-hidden" id="admin-users" aria-labelledby="users-title">
        <h2 id="users-title" class="admin-section__title">ì‚¬ìš©ì ëª©ë¡</h2>
        <div class="admin-user-list" role="list">
          <p class="admin-loading">ì‚¬ìš©ì ë°ì´í„° ë¡œë”© ì¤‘...</p>
        </div>
      </section>

      <!-- ì°¨íŠ¸ ì„¹ì…˜ -->
      <section class="admin-section admin-hidden" id="admin-stats" aria-labelledby="stats-title">
        <h2 id="stats-title" class="admin-section__title">ì‚¬ìš© í†µê³„</h2>
        <div class="admin-chart-container">
          <canvas id="admin-chart-main" role="img" aria-label="ì‚¬ìš©ì í™œë™ ì°¨íŠ¸"></canvas>
        </div>
      </section>
    </main>

    <footer class="admin-footer">
      <p>&copy; 2025 500ì ë¯¸ë§Œ ê¸€ ì‘ì„±ê¸° Admin Dashboard</p>
    </footer>
  </div>

  <!-- Firebase SDK (CDN) - compat version for compatibility -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  
  <!-- Firebase Config -->
  <script>
    // Firebase ì„¤ì • ë° ì´ˆê¸°í™”
    const firebaseConfig = {
      apiKey: "AIzaSyDtaeQY_XdmaYcybY-S0LmDMuCC_gonJyw",
      authDomain: "text-threads.firebaseapp.com",
      projectId: "text-threads",
      storageBucket: "text-threads.firebasestorage.app",
      messagingSenderId: "84225903613",
      appId: "1:84225903613:web:e0909478d5a334d7046794"
    };

    // Firebase ì´ˆê¸°í™”
    firebase.initializeApp(firebaseConfig);
    console.log('âœ… Firebase ì´ˆê¸°í™” ì™„ë£Œ');
  </script>
  
  <!-- Chart.js ë¡œì»¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
  <script src="lib/chart.min.js"></script>
  
  <!-- Admin JavaScript -->
  <script src="admin.js"></script>
</body>
</html>
