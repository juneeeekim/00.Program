<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuthConfig í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #4285f4;
            padding-bottom: 10px;
        }
        .result {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
        }
        .success { border-left: 4px solid #34a853; }
        .error { border-left: 4px solid #ea4335; }
        .warning { border-left: 4px solid #fbbc04; }
        button {
            background: #4285f4;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #357ae8;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ AuthConfig í´ë˜ìŠ¤ í…ŒìŠ¤íŠ¸</h1>
    
    <div class="test-section">
        <h2>1. í™˜ê²½ ê°ì§€ í…ŒìŠ¤íŠ¸</h2>
        <button onclick="testEnvironmentDetection()">í™˜ê²½ ê°ì§€ ì‹¤í–‰</button>
        <div id="env-result" class="result"></div>
    </div>
    
    <div class="test-section">
        <h2>2. Client ID ê²€ì¦ í…ŒìŠ¤íŠ¸</h2>
        <button onclick="testValidation()">ê²€ì¦ ì‹¤í–‰</button>
        <div id="validation-result" class="result"></div>
    </div>
    
    <div class="test-section">
        <h2>3. ì„¤ì • ì•ˆë‚´ ìƒì„± í…ŒìŠ¤íŠ¸</h2>
        <button onclick="testSetupInstructions()">ì•ˆë‚´ ìƒì„±</button>
        <div id="instructions-result" class="result"></div>
    </div>
    
    <div class="test-section">
        <h2>4. í™˜ê²½ë³„ ì„¤ì • í…ŒìŠ¤íŠ¸</h2>
        <button onclick="testEnvironmentConfig()">ì„¤ì • í™•ì¸</button>
        <div id="config-result" class="result"></div>
    </div>

    <script src="config/auth-config.js"></script>
    <script>
        function testEnvironmentDetection() {
            const config = new AuthConfig();
            const result = `
í™˜ê²½ ê°ì§€ ê²°ê³¼:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ ê°œë°œ í™˜ê²½: ${config.isDevelopment ? 'âœ… Yes' : 'âŒ No'}
â€¢ í”„ë¡œí† ì½œ: ${config.protocol}
â€¢ í˜¸ìŠ¤íŠ¸ëª…: ${config.hostname}
â€¢ í¬íŠ¸: ${config.port || '(ê¸°ë³¸)'}
â€¢ ì „ì²´ ì›ë³¸: ${window.location.origin}

ê°ì§€ ë¡œì§:
â€¢ localhost í™•ì¸: ${window.location.hostname === 'localhost'}
â€¢ 127.0.0.1 í™•ì¸: ${window.location.hostname === '127.0.0.1'}
â€¢ file:// í”„ë¡œí† ì½œ: ${window.location.protocol === 'file:'}
            `;
            
            document.getElementById('env-result').textContent = result;
            document.getElementById('env-result').className = 'result success';
        }
        
        function testValidation() {
            const config = new AuthConfig();
            const isValid = config.validateGoogleConfig();
            const error = config.getValidationError();
            
            let result = `
ê²€ì¦ ê²°ê³¼:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ ì „ì²´ ê²€ì¦: ${isValid ? 'âœ… í†µê³¼' : 'âŒ ì‹¤íŒ¨'}
â€¢ Client ID: ${config.GOOGLE_CLIENT_ID}
            `;
            
            if (error) {
                result += `
â€¢ ì˜¤ë¥˜ ìœ í˜•: ${error.error}
â€¢ ì˜¤ë¥˜ ë©”ì‹œì§€: ${error.message}

êµ¬ì²´ì ì¸ ì•ˆë‚´:
${error.instructions}
                `;
            }
            
            document.getElementById('validation-result').textContent = result;
            document.getElementById('validation-result').className = isValid ? 'result success' : 'result error';
        }
        
        function testSetupInstructions() {
            const config = new AuthConfig();
            const instructions = config.getSetupInstructions();
            
            document.getElementById('instructions-result').textContent = instructions;
            document.getElementById('instructions-result').className = 'result warning';
        }
        
        function testEnvironmentConfig() {
            const config = new AuthConfig();
            const envConfig = config.getEnvironmentConfig();
            
            const result = `
í™˜ê²½ë³„ ì„¤ì •:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ í™˜ê²½: ${envConfig.environment}
â€¢ í”„ë¡œí† ì½œ: ${envConfig.protocol}
â€¢ í˜¸ìŠ¤íŠ¸: ${envConfig.hostname}
â€¢ í¬íŠ¸: ${envConfig.port || '(ê¸°ë³¸)'}
â€¢ ì›ë³¸: ${envConfig.origin}
â€¢ Client ID: ${envConfig.clientId}
â€¢ ìŠ¤ì½”í”„: ${envConfig.scopes.join(', ')}
â€¢ ìœ íš¨ì„±: ${envConfig.isValid ? 'âœ… ìœ íš¨' : 'âŒ ë¬´íš¨'}
â€¢ ë¦¬ë””ë ‰ì…˜ URI: ${envConfig.redirectUri}

í—ˆìš©ëœ ì›ë³¸:
${envConfig.allowedOrigins.map(origin => '  â€¢ ' + origin).join('\n')}
            `;
            
            document.getElementById('config-result').textContent = result;
            document.getElementById('config-result').className = 'result success';
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì‹¤í–‰
        window.addEventListener('load', () => {
            console.log('âœ… AuthConfig í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
            console.log('ê° í…ŒìŠ¤íŠ¸ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ê¸°ëŠ¥ì„ í™•ì¸í•˜ì„¸ìš”.');
        });
    </script>
</body>
</html>
